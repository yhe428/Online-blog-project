<script src="./javascript/validate-form.js"></script>

<div id="register-box-container">
    <div class="image-account-overlay">
        {{!-- <div class="left">
            <img src="./images/newAccount-image.jpg" alt="new account image">
        </div> --}}
        <div class="form-div">
            <div class="content">
                <h3>Create your account</h3>
                <p>Create an account to view and manage your photos</p>
            </div>

            <form action="/newAccount" method="POST">

                <label for="username">Username</label>
                <input class="ipt" type="text" name="username" id="txtUsername" required>
                <span id="ifCanUse" class="message"></span>

                <label for="firstname">First name</label>
                <input class="ipt" type="text" name="firstname" required>

                <label for="lastname">Last name</label>
                <input class="ipt" type="text" name="lastname" required>

                <label for="password">Password<br><span id="password-instructions"><em>Passwords must have a minimum of
                            8 characters and contain at least 1 uppercase letter, 1 lowercase letter, 1 number, and 1
                            special character</em></span></label>
                <input class="ipt" type="password" name="password" id="txtPassword" minlength="8"
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{8,}" required>

                <label for="re-password">Confirm password</label>
                <input class="ipt" type="password" name="re-password" id="confirmPassword" required>
                <span id="remind" class="message"></span>

                <label for="birth">Date of birth</label>
                <input class="ipt" type="date" name="birth" min="1900-01-01" max="2023-10-31" required>

                <label for="address">Address</label>
                <input class="ipt" type="text" name="address" required>

                <label for="phone">Phone</label>
                <input class="ipt" type="text" name="phone"
                    placeholder="Please enter your number in the format 02X-XXX(X)-XXXX" pattern="^02\d-\d{3-4}-\d{4}$"
                    required>

                <label for="email">Email</label>
                <input class="ipt" type="email" name="email" id="email" minlength="8" required>

                <label for="description">Profile description</label>
                <input class="ipt" type="text" name="description"
                    placeholder="Please write a short summary profile about yourself and your photography!" required>

             <div class="avatar-submit-container">
                <input id="avatar-input" type="text" name="avatar" hidden>

                <div class="avatar">
                <button id="popup-button" type="button"> Choose an avatar </button>
                <div id="remind-avatar">
                    <img src="./images/default-avatar.jpg" height="70px" width="70px">
                </div>
                </div>

                <button id="submit-account" type="submit">Create your account</button>
            </div>
                {{#if toastMessage}}
                <p> {{toastMessage}}</p>
                {{/if}}

            </form>

        </div>
    </div>
</div>

<div id="tall">
    <div id="popup-window">
        <div id="header">
            <h1> Click on your chosen avatar: </h1>
            {{!-- <button id="close-button"> Close avatar window </button> --}}
        </div>
        <div id="display-div"> </div>
        <div id="flex-container">
            <div class="items-div">

                {{#each avatarListCompact}}
                <button id="{{name}}" class="avatar-button" data-id="{{name}}"><img class="no-click"
                        src="{{src}}"></button>
                {{/each}}

            </div>
        </div>

    </div>
</div>